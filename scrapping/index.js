const request = require('request');
const fs = require('fs');

const testUrl = 'data:image/png;base64,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'

function decodeBase64Image(dataString) {
    // base64 img always starts like this 'data:image/png;base64, ...' so use regex
    var matches = dataString.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/), 
      response = {};
  
    if (matches.length !== 3) {
      return new Error('Invalid input string');
    }
  
    response.type = matches[1];
    response.data = new Buffer(matches[2], 'base64');
  
    return response;
  }
  
  var imageBuffer = decodeBase64Image(testUrl);
  fs.writeFile('fusion.png', imageBuffer.data, 'binary', function (err) {});